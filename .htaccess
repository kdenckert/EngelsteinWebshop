RewriteEngine On
RewriteBase /public
RewriteRule ^([^/]*)$ /public/?p=$1 [L]
